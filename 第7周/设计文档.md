# 设计文档

[toc]

## 目录结构

```
web         #前端代码
|-- index.html

core        #后台代码
|-- import_problem.py
|-- judge_problem.py

problem     #题目
|-- 1           #题目编号
    |-- 1.in                #输入数据
    |-- 1.out               #输出数据
    |-- description.txt     #题目描述
    |-- title.txt           #题目标题
|-- problem.config          #题目列表信息

program     #运行程序
|-- code.py                 #代码
|-- output.out              #代码输出结果

web-core.py #前端与后台的沟通层
```

## 前端设计

可参考：[hustoj](http://hustoj.com/oj/problemset.php)

## 接口命名规范

后台：小驼峰命名法，即第一个单词第一个首字母小写，其他单词第一个首字母大写，例如：`judgeProblem`

前端与沟通层：大驼峰命名法，即每个单词第一个首字母大写，例如：`JudgeProblem`

## 接口设计文档（前端命名）

- `GetProblemIdList()`：获得题目列表
- `GetProblemDescription()`：获得题目描述
- `JudgeProblem()`：判断题目对错
- `ModifyProblemDescription()`：修改题目描述
- `ModifyProblemTitle()`：修改题目标题

### GetProblemIdList()

原型：

```python
json GetProblemIdList()
```
json对象：
格式：`{problemId1:title1, problemId2:title2, ...}`
例子：`{"1":"计算a+b", "2":"计算a-b"}`

### GetProblemDescription()

原型：

```python
json GetProblemDescription(problemId)
```

`problemId`：数值类型，为题目编号

json对象：
格式：`{"text":"xxxx"}`
例子：`{"text":"输入两个整数a、b，计算a+b"}`

### JudgeProblem()

原型：

```python
json JudgeProblem(code, problemId)
```

`code`：字符串类型，为提交代码
`problemId`：数值类型，为题目编号

json对象：
格式：`{"status":bool}`
样例：`{"status":true}`

### ModifyProblemDescription()

原型：

```python
void ModifyProblemDescription(description, problemId)
```

`description`：字符串类型，为题目描述
`problemId`：数值类型，为题目编号

### ModifyProblemTitle()

原型：

```python
void ModifyProblemDescription(title, problemId)
```

`title`：字符串类型，为题目标题
`problemId`：数值类型，为题目编号
